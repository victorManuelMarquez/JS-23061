<!-- TEST INDEX -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Víctor Manuel Márquez">
    <title>Piloto</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/css/index.css">
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
</head>
<body>
    <main>
        <div class="card card-body">
            <pre id="code-exercise-01">
                <script>
                    // fuente: https://stackoverflow.com/questions/28007813/how-to-show-javascript-code-in-html
                    $("#code-exercise-01").load("TP1/Ejercicio_01.js");
                </script>
            </pre>
        </div>
        <p>
            <button id="playExercise1" class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePreview" aria-expanded="false" aria-controls="collapsePreview"><i class="bi bi-play-fill"></i> Ejecutar</button>
        </p>
        <div class="collapse" id="collapsePreview">
            <div class="card card-body">
                <pre id="log"></pre>
            </div>
        </div>
        <p>
            <button id="preview"></button>
        </p>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script>
        // https://stackoverflow.com/questions/7789521/how-to-link-external-javascript-file-onclick-of-button

        let button = document.getElementById("playExercise1");
        button.onclick = function () {
            let script = document.createElement("script");
            script.type = "text/javascript";
            script.src = "TP1/Ejercicio_01.js";
            let head = document.getElementsByTagName("head")[0];
            if (head.querySelector('[src="TP1/Ejercicio_01.js"]') == null) {
                head.appendChild(script);
            }
            return false;
        };

        // fuente: https://stackoverflow.com/questions/20256760/javascript-console-log-to-html

        let button1 = document.getElementById("preview");
        button1.onclick = function () {
            let script = document.createElement("script");
            script.type = "text/javascript";
            script.src = "assets/js/console-to-document.js";
            let head = document.getElementsByTagName("head")[0];
            if (head.querySelector('[src="assets/js/console-to-document.js"]') == null) {
                head.appendChild(script);
                let ejercicios = head.querySelectorAll('script[src="TP1/Ejercicio_01.js"]');
                ejercicios.forEach(function (head) {
                    head.removeChild(head);
                });
            }
            return false;
        };
    </script>
</body>
</html>